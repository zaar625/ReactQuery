{"ast":null,"code":"'use client';\n\nimport * as React from 'react';\nimport { useSyncExternalStore } from './useSyncExternalStore.esm.js';\nimport { parseMutationFilterArgs, notifyManager } from '@tanstack/query-core';\nimport { useQueryClient } from './QueryClientProvider.esm.js';\nfunction useIsMutating(arg1, arg2, arg3) {\n  const [filters, options = {}] = parseMutationFilterArgs(arg1, arg2, arg3);\n  const queryClient = useQueryClient({\n    context: options.context\n  });\n  const mutationCache = queryClient.getMutationCache();\n  return useSyncExternalStore(React.useCallback(onStoreChange => mutationCache.subscribe(notifyManager.batchCalls(onStoreChange)), [mutationCache]), () => queryClient.isMutating(filters), () => queryClient.isMutating(filters));\n}\nexport { useIsMutating };","map":{"version":3,"sources":["../../src/useIsMutating.ts"],"names":[],"mappings":";;;;;;AAoBO,SAAA,aAAA,CAAA,IAAA,EAAA,IAAA,EAAA,IAAA,EAAA;EAKL,MAAA,CAAA,OAAA,EAAA,OAAA,GAAA,CAAA,CAAA,CAAA,GAAA,uBAAA,CAAA,IAAA,EAAA,IAAA,EAAA,IAAA,CAAA;;;EAEmC,CAAA,CAAA;EACnC,MAAA,aAAA,GAAA,WAAA,CAAA,gBAAA,CAAA,CAAA;EAEA,OAAA,oBAAA,CAAA,KAAA,CAAA,WAAA,CAAA,aAAA,IAAA,aAAA,CAAA,SAAA,CAAA,aAAA,CAAA,UAAA,CAAA,aAAA,CAAA,CAAA,EAAA,CAAA,aAAA,CAAA,CAAA,EAAA,MAAA,WAAA,CAAA,UAAA,CAAA,OAAA,CAAA,EAAA,MAAA,WAAA,CAAA,UAAA,CAAA,OAAA,CAAA,CAAA;AASD","sourcesContent":["'use client'\nimport * as React from 'react'\nimport { useSyncExternalStore } from './useSyncExternalStore'\n\nimport type { MutationKey, MutationFilters } from '@tanstack/query-core'\nimport { notifyManager, parseMutationFilterArgs } from '@tanstack/query-core'\nimport type { ContextOptions } from './types'\nimport { useQueryClient } from './QueryClientProvider'\n\ninterface Options extends ContextOptions {}\n\nexport function useIsMutating(\n  filters?: MutationFilters,\n  options?: Options,\n): number\nexport function useIsMutating(\n  mutationKey?: MutationKey,\n  filters?: Omit<MutationFilters, 'mutationKey'>,\n  options?: Options,\n): number\nexport function useIsMutating(\n  arg1?: MutationKey | MutationFilters,\n  arg2?: Omit<MutationFilters, 'mutationKey'> | Options,\n  arg3?: Options,\n): number {\n  const [filters, options = {}] = parseMutationFilterArgs(arg1, arg2, arg3)\n\n  const queryClient = useQueryClient({ context: options.context })\n  const mutationCache = queryClient.getMutationCache()\n\n  return useSyncExternalStore(\n    React.useCallback(\n      (onStoreChange) =>\n        mutationCache.subscribe(notifyManager.batchCalls(onStoreChange)),\n      [mutationCache],\n    ),\n    () => queryClient.isMutating(filters),\n    () => queryClient.isMutating(filters),\n  )\n}\n"]},"metadata":{},"sourceType":"module"}